@import "tailwindcss";

@theme {
  /* Klyra Brand Colors (OKLCH for v4) */
  --color-klyra-primary: oklch(85% 0.15 270);
  --color-klyra-accent: oklch(87% 0.18 190);
  
  /* Job Tag Colors - ComboHR style (distinctive and vibrant) */
  --color-job-pizzaiolo: oklch(92% 0.08 60);           /* warm amber */
  --color-job-pizzaiolo-border: oklch(65% 0.15 50);    /* amber border */
  --color-job-plongeur: oklch(92% 0.07 220);           /* cool blue */
  --color-job-plongeur-border: oklch(60% 0.15 220);    /* blue border */
  --color-job-commis: oklch(90% 0.10 35);              /* orange */
  --color-job-commis-border: oklch(60% 0.18 30);       /* orange border */
  --color-job-serveur: oklch(92% 0.08 145);            /* fresh green */
  --color-job-serveur-border: oklch(55% 0.15 145);     /* green border */
  --color-job-barista: oklch(90% 0.09 300);            /* purple/magenta */
  --color-job-barista-border: oklch(55% 0.16 300);     /* purple border */
  
  /* Semantic Design Tokens */
  --color-background: oklch(100% 0 0);
  --color-foreground: oklch(25% 0.02 240);
  --color-muted: oklch(97% 0.01 240);
  --color-muted-foreground: oklch(55% 0.02 240);
  --color-primary: var(--color-klyra-primary);
  --color-primary-foreground: oklch(100% 0 0);
  --color-accent: var(--color-klyra-accent);
  --color-accent-foreground: oklch(15% 0.02 240);
  --color-border: oklch(91% 0.01 240);
  --color-input: oklch(91% 0.01 240);
  --color-ring: var(--color-klyra-primary);
  
  /* Card & Popover */
  --color-card: oklch(100% 0 0);
  --color-card-foreground: oklch(25% 0.02 240);
  --color-popover: oklch(100% 0 0);
  --color-popover-foreground: oklch(25% 0.02 240);
  
  /* Secondary */
  --color-secondary: oklch(97% 0.01 240);
  --color-secondary-foreground: oklch(25% 0.02 240);
  
  /* Destructive */
  --color-destructive: oklch(60% 0.18 25);
  --color-destructive-foreground: oklch(100% 0 0);
  
  /* Radius */
  --radius-lg: 0.5rem;
  --radius-md: calc(0.5rem - 2px);
  --radius-sm: calc(0.5rem - 4px);
  
  /* Animations (replacing tailwindcss-animate) */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-scale-in: scale-in 0.15s ease-out;
  --animate-slide-up: slide-up 0.2s ease-out;
}

/* Dark mode */
.dark {
  --color-background: oklch(20% 0.02 240);
  --color-foreground: oklch(92% 0.02 240);
  --color-muted: oklch(25% 0.02 240);
  --color-muted-foreground: oklch(69% 0.02 240);
  --color-border: oklch(28% 0.02 240);
  --color-input: oklch(28% 0.02 240);
  
  /* Card & Popover */
  --color-card: oklch(25% 0.02 240);
  --color-card-foreground: oklch(92% 0.02 240);
  --color-popover: oklch(25% 0.02 240);
  --color-popover-foreground: oklch(92% 0.02 240);
  
  /* Secondary */
  --color-secondary: oklch(30% 0.02 240);
  --color-secondary-foreground: oklch(92% 0.02 240);
  
  /* Destructive */
  --color-destructive: oklch(50% 0.18 25);
  --color-destructive-foreground: oklch(100% 0 0);
}

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
}

/* Design System Utilities */
.gradient-title {
  background-image: linear-gradient(
    to right,
    var(--color-primary),
    var(--color-accent)
  );
  color: transparent;
  -webkit-background-clip: text;
  background-clip: text;
}

.grid-bg {
  background-image: radial-gradient(circle at 1px 1px, color-mix(in oklch, var(--color-foreground) 3%, transparent) 1px, transparent 0);
  background-size: 24px 24px;
}

/* Z-Index Consistency */
.z-dropdown { z-index: 1000; }
.z-modal { z-index: 2000; }
.z-toast { z-index: 3000; }
.z-tooltip { z-index: 4000; }

/* Focus States */
.focus-enhanced:focus-visible {
  outline: 2px solid var(--color-ring);
  outline-offset: 2px;
}

/* Typography Scale */
.text-display { font-size: 2.25rem; font-weight: 700; letter-spacing: -0.025em; }
.text-headline { font-size: 1.5rem; font-weight: 600; }
.text-body { font-size: 1rem; font-weight: 400; }
.text-caption { font-size: 0.875rem; color: var(--color-muted-foreground); }

/* Animation Consistency */
.animate-smooth { transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1); }
.animate-bounce-subtle { animation: bounce 1s ease-in-out infinite; }

/* Keyframes for animations */
@keyframes accordion-down {
  from { height: 0; opacity: 0; }
  to { height: var(--radix-accordion-content-height); opacity: 1; }
}

@keyframes accordion-up {
  from { height: var(--radix-accordion-content-height); opacity: 1; }
  to { height: 0; opacity: 0; }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes slide-up {
  from { transform: translateY(10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* Touch-Friendly Forms (iOS/Android 44px minimum) */
input:not([type="checkbox"]):not([type="radio"]), 
select, 
textarea {
  min-height: 44px;
}

button {
  min-height: 44px;
}

label {
  font-size: 1rem; /* Minimum 16px to prevent iOS zoom */
}

/* Mobile Safe Area (Capacitor) */
@supports (padding: env(safe-area-inset-bottom)) {
  body {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Touch-friendly utilities */
@layer utilities {
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
  
  .touch-target-large {
    min-height: 48px;
    min-width: 48px;
  }
  
  /* Prevent zoom on double tap (iOS) */
  .no-double-tap-zoom {
    touch-action: manipulation;
  }
  
  /* Smooth scroll */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Safe area padding utilities */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
  
  .pt-safe {
    padding-top: env(safe-area-inset-top, 0);
  }
  
  .pl-safe {
    padding-left: env(safe-area-inset-left, 0);
  }
  
  .pr-safe {
    padding-right: env(safe-area-inset-right, 0);
  }
  
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
}

/* Phone Input Component Styles */
.phone-input-wrapper {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.phone-input-wrapper .PhoneInputCountry {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  border: 1px solid var(--color-input);
  border-radius: var(--radius-md);
  background-color: var(--color-background);
  cursor: pointer;
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  min-height: 44px;
}

.phone-input-wrapper .PhoneInputCountry:hover {
  background-color: var(--color-muted);
}

.phone-input-wrapper .PhoneInputCountry:focus-within {
  outline: 2px solid var(--color-ring);
  outline-offset: 2px;
}

.phone-input-wrapper .PhoneInputCountrySelect {
  font-size: 1rem;
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--color-foreground);
}

.phone-input-wrapper .PhoneInputCountrySelect:focus {
  outline: none;
}

.phone-input-wrapper .PhoneInputCountryIcon {
  width: 1.5rem;
  height: 1rem;
  overflow: hidden;
  border-radius: 2px;
}

.phone-input-wrapper .PhoneInputCountryIcon--square {
  width: 1.25rem;
  height: 1.25rem;
}

.phone-input-wrapper .PhoneInputInput {
  flex: 1;
}

/* Kiosk Glassmorphism Animations */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}
